.. _design_uc04 :

Combine, analyse and visualise data, products and results
=========================================================

In this user scenario, a previous user data selection may be enhanced using GIS tools.

It is then assumed the user has made a data selection within a data package as described in :ref:`design_uc01`.


The Portal will contain option to explore and visualize the currently chosen thematic content. The page with the GIS
functionality will be opened inside of the portal. It will allow the user to see the data over the map. If the
content consists of multiple layers, it will allow user to overlay them one on another. It will allow user to filter the
data based on the time and in some cases based on other attributes present in data. If the data will consist of multiple
times, it will be possible to use the play functionality through the years.

.. uml::
  :caption: Data discovery, query, visualization and combination on PUMA

  actor "User" as U
  participant "Portal" as P
  participant "GIS" as GIS

  autonumber

  U -> P : Explore chosen thematic contents
  activate P
  P -> GIS : Visualize selected Thematic Content
  deactivate P

  activate GIS
  GIS -> U : Visualized thematic content over the map
  U -> GIS : Filter the data based on the year
  GIS -> U : Filtered data
  U -> GIS : Show me Italy
  GIS -> U : Focus is moved to the Italy
  U -> GIS : Display another layer on top of current
  GIS -> U : Another layer displayed
  U -> GIS : Play the timeline on these layers
  GIS -> U : Playing the changes in the layers
  U -> GIS : Zooming in and on the map
  U -> GIS : Moving over the map
  deactivate GIS


4)  Portal/platform sends corresponding request to information system at platform or outside the platform (PUMA), where the user can visualise the result and explore the results in pre-prepared views.
    
.. todo:: *T2* sequence diagram and description of the interaction between portal and PUMA

5)  If computing-intensive processing required, the requested product is processed at a processing center where the requested service and data access functionality are hosted.
     
.. todo:: *T2* sequence diagram and description of the user interaction with Portal

11)  If a new product is generated it can be registered in the catalogue/store.
     
.. todo:: *T2* sequence diagram and description of the user interaction with Portal

13)  Generated output (data, statistics, graphs, report) is provided to the user via the portal. 
     
.. todo:: *T2* sequence diagram and description of the user interaction with Portal


